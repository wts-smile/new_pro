<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>我的购物车</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/css2.css" />
</head>

<body class="myborder">
    <div class="a">

        <div style="border-right:1px lightgray solid" id="div1">
            <img src="images/jd1.PNG" height="52px" width="153px">
            &nbsp&nbsp&nbsp
        </div>
        <p id="headerTitle">
            &nbsp&nbsp&nbsp&nbsp<a href="login.html" class="gray">商城首页</a>
        </p>

        <div style="" id="gps1">
            <img src="images/gps.png" height="20px" width="14px">
            &nbsp北京
        </div>


        <div id="headerNav">
            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

            <a id="a1" href="login.html"
                class="gray">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp会员中心&nbsp&nbsp&nbsp&nbsp</a>
            <a id="a2" href="login.html" class="gray">订单管理&nbsp&nbsp&nbsp&nbsp</a>
            <a id="a3" href="login.html" class="gray">京东PLUS&nbsp&nbsp&nbsp&nbsp</a>
            <a id="a4" href="login.html" class="gray">海外用户登录&nbsp&nbsp&nbsp&nbsp</a>
            <a id="a5" href="login.html" class="gray">超级卖家&nbsp&nbsp&nbsp</a>
            <a id="a55">|</a>
            <a id="a6" href="login.html" class="gray">&nbsp&nbsp&nbsp帮助&nbsp&nbsp&nbsp&nbsp</a>
            <a id="a7" href="login.html" class="gray">登录反馈</a>
        </div>
    </div>

    <div class="b">
        <div class="cart">
            <div class="cart-title">我的购物车</div>
            <table class="cart-table">
                <tr>
                    <th width="60"><span class="cart-all">全选</span></th>
                    <th>商品</th>
                    <th width="120">单价</th>
                    <th width="100">数量</th>
                    <th width="120">小计</th>
                    <th width="80">操作</th>
                </tr>
                <tr class="cart-item" v-for="(item,index) in list">
                    <td><input type="checkbox" v-model="item.active" @click="item.active=!item.active"
                            class="cart-check" />
                    </td>
                    <td class="cart-txt-left"><span class="cart-name">{{item.name}}</span></td>
                    <td><span class="cart-price">{{item.price}}</span></td>
                    <td><span class="cart-reduce"><input type="button" value="-"
                                @click="item.num<=0?0:item.num-=1"></span>
                        <span class="cart-num"><input v-model.number="item.num"
                                :keyup="item.num=item.num<=0?0:item.num" /></span>
                        <span class="cart-add"><input type="button" value="+" @click="item.num+=1"></span>
                    </td>
                    <td><span class="cart-subtotal">{{item.num*item.price}}</span></td>
                    <td><span class="cart-del"><button @click="remove(index)">移除</button></span></td>
                </tr>
                <tr class="cart-bottom">
                    <td colspan="6">
                        <span><button @click="removelot">删除选中的商品</button>
                            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                            <span><button
                                    @click="removeAll">清空购物车</button>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>
                            <span class="cart-bottom-span">已选择<span class="cart-total-num">{{count}}</span>件商品</span>
                            <span class="cart-bottom-span">总计：<span class="cart-total-price">{{total}}</span></span>
                            <span class="cart-bottom-btn">提交订单</span>
                    </td>
                </tr>
            </table>
        </div>



    </div>




    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        var app = new Vue({
            el: ".b",
            data: {
                list: [{ id: 1, name: "草莓", price: 10, num: 1, active: true },
                { id: 2, name: "巧克力", price: 30, num: 2, active: false },
                { id: 3, name: "奶油蛋糕", price: 50, num: 3, active: true }],
            },
            methods: {
                remove: function (index) {//移除单个
                    if (confirm('你确定要删除吗?')) {
                        this.list.splice(index, 1);
                    }
                },
                removelot: function () {//多选移除
                    var list = []
                    for (let i = 0; i < this.list.length; i++) {
                        if (this.list[i].active == false)
                            list.push(this.list[i])
                    }
                    this.list = list
                },
                removeAll: function () {
                    if (confirm('你确定要删除吗?')) {
                        this.list = []
                    }

                }
            },
            computed: {
                total: function () {//计算总价
                    let sum = 0;
                    for (let i = 0; i < this.list.length; i++) {
                        if (this.list[i].active)
                            sum += this.list[i].price * this.list[i].num;
                    }
                    return sum;
                },
                count: function () {//计算总数
                    let sum = 0;
                    for (let i = 0; (i < this.list.length); i++) {
                        if (this.list[i].active)
                            sum += this.list[i].num;
                    }
                    return sum;
                }
            },
        })
    </script>
</body>

</html>